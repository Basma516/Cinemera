<div class="container mt-5">
  <h3 class="text-warning mb-5">Watch list</h3>

  <div *ngIf="watchlist.length > 0; else noMovies">
    <div class="row">
      <div *ngFor="let movie of watchlist" class="col-md-6 mb-4"> 
        <div class="card movie-card h-100 position-relative d-flex">
          <img 
            class="card-img-left" 
            style="height: auto; width: 150px;" 
            [src]="'https://image.tmdb.org/t/p/w500/' + movie.poster_path" 
            [alt]="movie.title">
          
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <h5 class="card-title">{{ movie.title }}</h5>
              <button class="btn btn-link p-0" (click)="toggleWatchlist(movie)">
                <i class="fa-solid fa-heart" 
                   [ngClass]="{'text-warning': isInWatchlist(movie), 'text-muted': !isInWatchlist(movie)}"></i>
              </button>
            </div>

            <p class="text-muted mb-1">{{ movie.release_date | date:'MMM d, y' }}</p>

           
            <div class="rating mb-2" style="gap: 20px;">
              <ng-container *ngFor="let star of getStars(movie.vote_average)">
                <i class="fa" [ngClass]="star"></i>
                
              </ng-container>
              <span class="ml-3">{{ movie.vote_count }}</span>
            </div>

            <p class="card-text">{{ movie.overview | slice:0:100 }}...</p>

            
          </div>
        </div>
      </div>
    </div>
  </div>


  <ng-template #noMovies>
    <div class="text-center">
      <img src="/assests/images/heart-slash.svg" > <!-- Heart icon with a line through it -->
      <p class="mt-3" style="font-size: 30px;">No Movies in Watchlist</p>

      <button class="btn custom-btn mt-3">
        <a href="/" class="header-title">Back to Home</a>
      </button>
    </div>
  </ng-template>
</div>
